@page
@using BoardGame.Model.Tiles
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}
<div class="playBoard">
    @{
        var items = Model._maps;
        if (items == null)
            return;

        var row = 0;
        foreach (var line in items)
        {
            <div class="customRow">
                @if (row % 2 == 1)
                {
                    <div class="emptyTill"></div>
                }
                @{
                    var col = 0;
                }
                @foreach (var cell in line)
                {
                    <div class="till @Model.GetTilColor(cell.TileType)" onclick="@Model.TurnCell(row, col)">
                        @if (cell.IdTil != 0)
                        {
                            var til = Model._repo.GetPlayFieldTilById(cell.IdTil);
                            var names = til.NodeProps.Where(x => x.Meet != null)
                                .Select(x => x.Meet.Name)
                                .ToList();
                                @string.Join(',', names);
                                col += 1;
                        }
                        <img class="img" src="/img/Tils/@Model.GetImg(cell)" />
                    </div>
                }

                @{
                    row += 1;
                }
            </div>
        }
    }

</div>
<style>
    .playBoard {
        display: flex;
        flex-direction: column;
        flex: 0 0;
    }

    .customRow {
        display: flex;
        flex-direction: row;
        flex: 0 0;
    }

    .emptyTill {
        width: 150px;
        height: 300px;
    }

    .till {
        width: 300px;
        height: 300px;
        position: relative;
    }

    .img {
        width: 100%;
        height: 100%;
    }

    .till.id {
    }
</style>